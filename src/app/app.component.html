<!DOCTYPE html>
<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
<div class="container">
    <div class="page-header">
        <h1 data-testid="titulo">Conversor <small>Angular</small></h1>
    </div>

    <div class="well well-lg">
        <h2>Convertir</h2>
        <div>
            <form name="convertirForm" role="form">
                <fieldset>
                    <div class="form-group">
                        <label for="millas">Millas</label>
                        <input name="millas" id="millas" class="form-control" data-testid="millas" required
                            [(ngModel)]="conversor.millas" (mouseover)="conversor.convertir()" #millas="ngModel"
                            pattern="^[0-9]+$" placeholder="Ingrese la cantidad de millas a convertir"
                            autofocus="autofocus">
                    </div>

                    <div *ngIf="millas.invalid && (millas.dirty || millas.touched)">
                        <br>
                        <div class="alert alert-danger" data-testid="errors">
                            Error:
                            <span *ngIf="millas.errors.required">¡Debe ingresar millas!</span>
                            <span data-testid="numeric-format" *ngIf="millas.errors?.pattern">Formato debe ser
                                numérico</span>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="kilometros">Kilómetros</label>
                        <p class="lead" id="kilometros" *ngIf="!millas.errors" data-testid="kilometros">
                            {{conversor.kilometros | number:'1.3-3':'es' }}</p>
                    </div>
                    <button type="submit" id="convertir" class="btn btn-primary" data-testid="convertir"
                        (click)="conversor.convertir()">Convertir</button>
                </fieldset>
            </form>
        </div>
    </div>
</div>